@using Common
@model Datas.Models.ViewModels.JewelryModel
<div class="row">
    <div class="col-md-6">
        <div class="form-group">
            <label asp-for="IdentityCode" class="control-label">Mã trang sức</label> <span class="text-danger">(*)</span>
            <input asp-for="IdentityCode" class="form-control" />
            <span asp-validation-for="IdentityCode" class="text-danger"></span>
        </div>
        <div class="form-group">
            <label asp-for="Name" class="control-label">Tên trang sức</label> <span class="text-danger">(*)</span>
            <input asp-for="Name" class="form-control" />
            <span asp-validation-for="Name" class="text-danger"></span>
        </div>
        <div class="form-group">
            <label asp-for="AlternativeNames" class="control-label">Tên gọi khác</label>
            <input asp-for="AlternativeNames" class="form-control" />
            <span asp-validation-for="AlternativeNames" class="text-danger"></span>
        </div>
        <div class="form-group">
            @Html.Partial("_DisplayJewelryCategory")
        </div>

        <div class="form-group">
            @Html.Partial("_DisplayPeople")
        </div>
        <div class="form-group">
            <label asp-for="Gender" class="control-label">Giới tính sử dụng</label>
            <select asp-for="Gender" class="form-control">
                <option value="">-- Chọn giới tính --</option>
                <option value="Nam">Nam</option>
                <option value="Nữ">Nữ</option>
                <option value="Cả hai">Cả hai</option>
            </select>
            <span asp-validation-for="Gender" class="text-danger"></span>
        </div>
        <div class="form-group">
            <label asp-for="AgeGroup" class="control-label">Độ tuổi sử dụng</label>
            <input asp-for="AgeGroup" class="form-control" placeholder="Trẻ em, người lớn, người già..." />
            <span asp-validation-for="AgeGroup" class="text-danger"></span>
        </div>
        <div class="form-group">
            <label asp-for="Scan3DLink" class="control-label">Link ảnh scan 3D</label>
            <input asp-for="Scan3DLink" class="form-control" />
            <span asp-validation-for="Scan3DLink" class="text-danger"></span>
        </div>
    </div>
    <div class="col-md-6">
        <div class="row" style="margin-top:38px;">
            <div class="col-md-3">
                <div class="form-group">
                    <label asp-for="IsDisplay" class="control-label">Hiển thị</label>
                    <input asp-for="IsDisplay" />
                    <span asp-validation-for="IsDisplay" class="text-danger"></span>
                </div>
            </div>
            <div class="col-md-3">
                <div class="form-group">
                    <label asp-for="Top" class="control-label">Lên đầu</label>
                    <input asp-for="Top" />
                    <span asp-validation-for="Top" class="text-danger"></span>
                </div>
            </div>
        </div>
        <div class="form-group">
            <label asp-for="Image360" class="control-label">Link ảnh 360°</label>
            <input asp-for="Image360" class="form-control" />
            <span asp-validation-for="Image360" class="text-danger"></span>
        </div>
        <div class="form-group">
            <label asp-for="Details" class="control-label">Mô tả ngắn</label>
            <textarea asp-for="Details" class="form-control" rows="3"></textarea>
            <span asp-validation-for="Details" class="text-danger"></span>
        </div>
        <div class="form-group">
            <label asp-for="Status" class="control-label">Trạng thái</label>
            <select class="form-control" asp-for="Status" asp-items="Html.GetEnumSelectList(typeof(Enums.ActiveStatus))">
            </select>
            <span asp-validation-for="Status" class="text-danger"></span>
        </div>
    </div>
</div>
<div class="row">
    <div class="col-md-12">
        <div class="form-group">
            <label asp-for="Content" class="control-label">Giới thiệu chi tiết</label> <span class="text-danger">(*)</span>
            <textarea asp-for="Content" class="form-control" rows="6"></textarea>
            <span asp-validation-for="Content" class="text-danger"></span>
        </div>
    </div>
</div>

@*This JavaScript handles the category name/ID relationship*@
<script>
    $(document).ready(function() {
        // You'll need to write code here that handles the relationship between
        // the text input (JewelryType) and the hidden CategoryId field.
        // This might involve an AJAX lookup or other approach depending on
        // your application's architecture.

        // For example, you could implement AJAX search when typing:
        /*
        $('#JewelryType').on('change', function() {
            var categoryName = $(this).val();

            // Call a backend API to find the category ID for this name
            $.get('/api/jewelry-categories/by-name?name=' + encodeURIComponent(categoryName), function(data) {
                if (data && data.id) {
                    $('#CategoryId').val(data.id);
                } else {
                    $('#CategoryId').val(''); // Clear if not found
                }
            });
        });
        */
    });
</script>
